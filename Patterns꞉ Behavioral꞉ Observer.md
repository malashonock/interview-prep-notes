---
tags: [Patterns]
title: 'Patterns: Behavioral: Observer'
created: '2023-10-20T09:40:31.243Z'
modified: '2023-10-20T09:58:31.619Z'
---

# Patterns: Behavioral: Observer

[refactoring.guru](https://refactoring.guru/design-patterns/observer)


## Problem

- There is a _subject_ that, from time to time, can produce some data
- There are a number of _observers_ that might be interested in that data
- It's inefficient for an observer to poll the subject frequently &mdash; most of the requests will be wasted
- It's inefficient for the subject to notify all of its users every time new data is generated, because not all of them are interested in it
- We need a mechanism that would deliver only the data of interest only to those observers that are interested in these data


## Terminology

**Subject** a.k.a. **Publisher** &mdash; the source of events that are of potential interest.

**Observer** a.k.a. **Subscriber** &mdash; the party interested in the events generated by the subject.


## Implementation

a. Subscriber side:
  1. Define a `Subscriber` interface:
    - most importantly, it should have the `update(data)` method that will be implemented by concrete subscriber classes and called by the publisher's `notifySubscribers()` method
    - it can have other subscription-specific methods as well
  2. Implement concrete subscriber classes that implement the `Subscriber` interface

b. Implement the `Publisher` class:
  1. it should have a field to store a list of `subscribers`
  2. it should have a set of `subscribe(subscriber)` / `unsubscribe(subscriber)` methods that add / remove a subscriber to / from the list of `subscribers`
  3. it should have a `notifySubscribers(data)` method that will traverse the list of `subscribers` and call `update(data)` on each subscriber

c. In client code:
  1. Setup the publisher
  2. Subscribe / unsubscribe subscribers to / from the publisher as needed
  3. At the right time defined by the main business logic (e.g. when some observed state changes), call `notifySubscribers(data)` on the publisher


## Use cases

- Changes to the state of one object affects the state of other objects, and we can't know beforehand what these other objects are, or their list can change dynamically
- Some objects want to observe the other, but for a limited time or in specific cases
- UI event listeners is a common use case for the Observer pattern
